---
title: "콘텐츠 배달 네트워크 지침"
description: "Azure에서 호스팅되는 고대역폭 콘텐츠를 제공하는 Content Delivery Network(CDN)에 대한 지침을 제공합니다."
author: dragon119
ms.date: 02/02/2018
pnp.series.title: Best Practices
ms.openlocfilehash: 73da41edec246b672564dd4a52b317eacf8ad649
ms.sourcegitcommit: 2e8b06e9c07875d65b91d5431bfd4bc465a7a242
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/09/2018
---
# <a name="best-practices-for-using-content-delivery-networks-cdns"></a><span data-ttu-id="9db38-103">CDN(콘텐츠 배달 네트워크) 사용에 대한 모범 사례</span><span class="sxs-lookup"><span data-stu-id="9db38-103">Best practices for using content delivery networks (CDNs)</span></span>

<span data-ttu-id="9db38-104">CDN(콘텐츠 배달 네트워크)은 사용자에게 웹 콘텐츠를 효율적으로 제공할 수 있는 서버의 분산 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-104">A content delivery network (CDN) is a distributed network of servers that can efficiently deliver web content to users.</span></span> <span data-ttu-id="9db38-105">CDN은 최종 사용자에게 가까운 Edge 서버에 캐시된 콘텐츠를 저장하여 대기 시간을 최소화합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-105">CDNs store cached content on edge servers that are close to end-users, to minimize latency.</span></span> 

<span data-ttu-id="9db38-106">CDN은 일반적으로 이미지, 스타일 시트, 문서, 클라이언트쪽 스크립트 및 HTML 페이지와 같은 정적 콘텐츠를 제공하기 위해 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-106">CDNs are typically used to deliver static content such as images, style sheets, documents, client-side scripts, and HTML pages.</span></span> <span data-ttu-id="9db38-107">CDN을 사용하는 주요 이점은 대기 시간이 짧고 응용 프로그램이 호스팅되는 데이터 센터와 관련하여 지리적 위치에 관계 없이 사용자에게 콘텐츠를 빠르게 제공할 수 있다는 점입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-107">The major advantages of using a CDN are lower latency and faster delivery of content to users, regardless of their geographical location in relation to the datacenter where the application is hosted.</span></span> <span data-ttu-id="9db38-108">또한 CDN을 사용하면 웹 응용 프로그램이 CDN에 호스트되는 콘텐츠에 대한 요청을 처리할 필요가 없으므로 응용 프로그램에 대한 부하를 줄이는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-108">CDNs can also help to reduce load on a web application, because the application does not have to service requests for the content that is hosted in the CDN.</span></span>
 
![CDN 다이어그램](./images/cdn/CDN.png)

<span data-ttu-id="9db38-110">Azure에서 [Azure CDN(콘텐츠 배달 네트워크)](/azure/cdn/cdn-overview)은 Azure 또는 다른 위치에서 호스팅되는 고대역폭 콘텐츠를 제공하는 글로벌 CDN 솔루션입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-110">In Azure, the [Azure Content Delivery Network](/azure/cdn/cdn-overview) is a global CDN solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="9db38-111">Azure CDN을 사용하여 Azure Blob Storage, 웹 응용 프로그램, 가상 머신 및 공개적으로 액세스되는 웹 서버에서 로드된 공개적으로 사용 가능한 개체를 캐시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-111">Using Azure CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, any publicly accessible web server.</span></span> 

<span data-ttu-id="9db38-112">이 항목에서는 CDN을 사용할 때의 몇 가지 일반적인 모범 사례 및 고려 사항을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-112">This topic describes some general best practices and considerations when using a CDN.</span></span> <span data-ttu-id="9db38-113">Azure CDN을 사용하는 방법에 대한 자세한 내용은 [CDN 설명서](/azure/cdn/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-113">To learn more about using Azure CDN, see [CDN Documentation](/azure/cdn/).</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="9db38-114">CDN 사용 방법 및 사용 이유</span><span class="sxs-lookup"><span data-stu-id="9db38-114">How and why a CDN is used</span></span>

<span data-ttu-id="9db38-115">일반적인 CDN의 용도는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-115">Typical uses for a CDN include:</span></span>  

* <span data-ttu-id="9db38-116">웹 사이트에서 종종 클라이언트 응용 프로그램에 대한 정적 리소스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-116">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="9db38-117">이미지, 스타일 시트, 문서, 파일, 클라이언트쪽 스크립트, HTML 페이지, HTML 조각 또는 서버가 각 요청에 대해 수정할 필요가 없는 기타 콘텐츠 등이 이러한 리소스에 해당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-117">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="9db38-118">응용 프로그램이 런타임 시 항목을 만들고 CDN에서 사용할 수 있게 만들 수 있지만(현재 뉴스 헤드라인 목록 작성을 통해) 각 요청에 대해서는 그렇게 할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-118">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>
* <span data-ttu-id="9db38-119">휴대폰 및 태블릿 컴퓨터와 같은 장치에 공용 정적 및 공유 콘텐츠를 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-119">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="9db38-120">응용 프로그램 자체는 다양한 장치에서 실행되는 클라이언트에 API를 제공하는 웹 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-120">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="9db38-121">또한 클라이언트가 CDN 클라이언트 UI를 생성하는 데 사용할 정적 데이터 집합을 (웹 서비스를 통해) 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-121">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="9db38-122">예를 들어, CDN은 JSON 또는 XML 문서를 배포하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-122">For example, the CDN could be used to distribute JSON or XML documents.</span></span>
* <span data-ttu-id="9db38-123">어떠한 전용 계산 리소스 필요 없이 공용 정적 콘텐츠만으로 구성된 전체 웹 사이트를 클라이언트에 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-123">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>
* <span data-ttu-id="9db38-124">주문 시 비디오 파일을 클라이언트에 스트리밍합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-124">Streaming video files to the client on demand.</span></span> <span data-ttu-id="9db38-125">비디오는 CDN 연결을 제공하는 전역적으로 위치한 데이터 센터에서 짧은 대기 시간 및 안정적인 연결 이점을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-125">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="9db38-126">Microsoft AMS(Azure Media Services)는 Azure CDN에 통합되어 향후 배포를 위해 CDN에 직접 콘텐츠를 배달합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-126">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="9db38-127">자세한 내용은 [스트리밍 끝점 개요](/azure/media-services/media-services-streaming-endpoints-overview)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-127">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>
* <span data-ttu-id="9db38-128">일반적으로 사용자, 특히 응용 프로그램을 호스팅하는 데이터 센터에서 멀리 떨어진 사용자의 환경을 개선합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-128">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="9db38-129">이러한 사용자는 대기 시간이 길어지는 문제가 생길 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-129">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="9db38-130">웹 응용 프로그램에 있는 콘텐츠의 총 크기에서 상당 부분이 정적으로, 여러 데이터 센터에 응용 프로그램을 배포하기 위한 요구 사항을 제거하면서 성능 및 전반적인 사용자 환경을 유지 관리하는 데 CDN 사용이 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-130">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span> <span data-ttu-id="9db38-131">Azure CDN 노드 위치 목록을 보려면 [Azure CDN POP 위치](/azure/cdn/cdn-pop-locations/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-131">For a list of Azure CDN node locations, see [Azure CDN POP Locations](/azure/cdn/cdn-pop-locations/).</span></span>
* <span data-ttu-id="9db38-132">IoT(사물 인터넷) 솔루션 지원.</span><span class="sxs-lookup"><span data-stu-id="9db38-132">Supporting IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="9db38-133">각 장치에 직접 펌웨어 업데이트를 배포해야 한다면 IoT 솔루션에 포함되는 방대한 수의 장치 및 어플라이언스 때문에 응용 프로그램에 쉽게 과부하가 걸릴 수 있을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-133">The huge numbers of devices and appliances involved in an IoT solution could easily overwhelm an application if it had to distribute firmware updates directly to each device.</span></span>
* <span data-ttu-id="9db38-134">응용 프로그램을 확장할 필요 없이 필요 시 최대치 및 급격한 증가에 대처하여 그에 따른 실행 비용의 증가를 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-134">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="9db38-135">예를 들어 특정 라우터 모델과 같은 하드웨어 장치 또는 스마트 TV와 같은 소비자 장치에 대한 운영 체제 업데이트를 릴리스할 때는 짧은 기간 동안 수백만 명의 사용자 및 장치가 이를 다운로드하므로 최고치의 수요가 발생하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-135">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

## <a name="challenges"></a><span data-ttu-id="9db38-136">과제</span><span class="sxs-lookup"><span data-stu-id="9db38-136">Challenges</span></span>

<span data-ttu-id="9db38-137">CDN을 사용하려는 경우 고려해야 할 몇 가지 과제가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-137">There are several challenges to take into account when planning to use a CDN.</span></span>  

* <span data-ttu-id="9db38-138">**배포**.</span><span class="sxs-lookup"><span data-stu-id="9db38-138">**Deployment**.</span></span> <span data-ttu-id="9db38-139">CDN이 콘텐츠를 가져올 원본 위치 및 둘 이상의 저장소 시스템에 콘텐츠를 배포해야 하는지 여부를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-139">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system.</span></span> <span data-ttu-id="9db38-140">정적 콘텐츠 및 리소스의 배포 프로세스를 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-140">Take into account the process for deploying static content and resources.</span></span> <span data-ttu-id="9db38-141">예를 들어 Azure Blob Storage에 콘텐츠를 로드하는 별도의 단계를 구현해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-141">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>
* <span data-ttu-id="9db38-142">**버전 관리 및 캐시 제어**.</span><span class="sxs-lookup"><span data-stu-id="9db38-142">**Versioning and cache-control**.</span></span> <span data-ttu-id="9db38-143">정적 콘텐츠를 업데이트하고 새 버전을 배포하는 방법을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-143">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="9db38-144">CDN이 캐싱 및 TTL(Time to Live)을 수행하는 방식을 이해합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-144">Understand how the CDN performs caching and time-to-live (TTL).</span></span> <span data-ttu-id="9db38-145">Azure CDN에 대한 내용은 [캐싱 작동 방식](/azure/cdn/cdn-how-caching-works)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-145">For Azure CDN, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>
* <span data-ttu-id="9db38-146">**테스트**.</span><span class="sxs-lookup"><span data-stu-id="9db38-146">**Testing**.</span></span> <span data-ttu-id="9db38-147">로컬로 또는 스테이징 환경에서 응용 프로그램을 개발하고 테스트를 수행할 때 CDN 설정의 로컬 테스트를 수행하는 것은 어려울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-147">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>
* <span data-ttu-id="9db38-148">**SEO(검색 엔진 최적화)**.</span><span class="sxs-lookup"><span data-stu-id="9db38-148">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="9db38-149">CDN을 사용하는 경우 이미지 및 문서와 같은 콘텐츠는 다른 도메인에서 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-149">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="9db38-150">이 콘텐츠에 대한 SEO에 영향을 미칠 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-150">This can have an effect on SEO for this content.</span></span>
* <span data-ttu-id="9db38-151">**콘텐츠 보안**.</span><span class="sxs-lookup"><span data-stu-id="9db38-151">**Content security**.</span></span> <span data-ttu-id="9db38-152">모든 CDN이 콘텐츠에 대한 모든 형태의 액세스를 제공하는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-152">Not all CDNs offer any form of access control for the content.</span></span> <span data-ttu-id="9db38-153">Azure CDN를 비롯한 일부 CDN 서비스는 CDN 콘텐츠를 보호하기 위해 토큰 기반 인증을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-153">Some CDN services, including Azure CDN, support token-based authentication to protect CDN content.</span></span> <span data-ttu-id="9db38-154">자세한 내용은 [토큰 인증을 사용하여 Azure Content Delivery Network 자산 보안 유지](/azure/cdn/cdn-token-auth)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-154">For more information, see [Securing Azure Content Delivery Network assets with token authentication](/azure/cdn/cdn-token-auth).</span></span>
* <span data-ttu-id="9db38-155">**클라이언트 보안**.</span><span class="sxs-lookup"><span data-stu-id="9db38-155">**Client security**.</span></span> <span data-ttu-id="9db38-156">클라이언트가 CDN의 리소스에 대한 액세스를 허용하지 않는 환경에서 연결될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-156">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="9db38-157">알려진 원본 집합만 액세스하도록 제한되거나, 페이지 원본 이외의 위치에서는 리소스를 로드할 수 없는 제한된 보안 환경일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-157">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="9db38-158">이러한 경우를 처리하는 데 대체 구현이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-158">A fallback implementation is required to handle these cases.</span></span>
* <span data-ttu-id="9db38-159">**복원력**.</span><span class="sxs-lookup"><span data-stu-id="9db38-159">**Resilience**.</span></span> <span data-ttu-id="9db38-160">CDN은 응용 프로그램에 대한 단일 오류 지점이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-160">The CDN is a potential single point of failure for an application.</span></span> 

<span data-ttu-id="9db38-161">다음과 같은 시나리오에서는 CDN이 그다지 유용하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-161">Scenarios where CDN may be less useful include:</span></span>  

* <span data-ttu-id="9db38-162">콘텐츠에 적중률이 낮으면 유효한 동안 몇 번만 액세스될 수 있습니다(TTL(Time-To-Live) 설정에 따라 결정됨).</span><span class="sxs-lookup"><span data-stu-id="9db38-162">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span> 
* <span data-ttu-id="9db38-163">대기업 또는 공급망 에코시스템 등과 같이 데이터가 비공개인 경우입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-163">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="9db38-164">일반적인 지침과 모범 사례</span><span class="sxs-lookup"><span data-stu-id="9db38-164">General guidelines and good practices</span></span>

<span data-ttu-id="9db38-165">CDN 사용은 응용 프로그램에 대한 부하를 최소화하고 가용성과 성능을 극대화하는 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-165">Using a CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="9db38-166">따라서 응용 프로그램이 사용하는 모든 적절한 콘텐츠 및 리소스에서 이 전략을 채택할지를 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-166">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="9db38-167">CDN을 사용하는 전략을 설계할 때 다음 섹션에 있는 요소를 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-167">Consider the points in the following sections when designing your strategy to use a CDN.</span></span>

### <a name="deployment"></a><span data-ttu-id="9db38-168">배포</span><span class="sxs-lookup"><span data-stu-id="9db38-168">Deployment</span></span>
<span data-ttu-id="9db38-169">정적 콘텐츠가 응용 프로그램 배포 패키지 또는 프로세스에 포함되지 않은 경우 응용 프로그램과 별도로 프로비전 및 배포해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-169">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="9db38-170">따라서 이 작업이 응용 프로그램 구성 요소와 정적 리소스 콘텐츠를 관리하는 데 사용할 버전 관리 방법에 어떤 영향을 주게 될지 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-170">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="9db38-171">묶음 및 축소 기술을 사용하여 클라이언트의 로드 시간을 줄이는 것을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-171">Consider using bundling and minification techniques to reduce load times for clients.</span></span> <span data-ttu-id="9db38-172">묶음은 여러 파일을 단일 파일로 결합합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-172">Bundling combines multiple files into a single file.</span></span> <span data-ttu-id="9db38-173">축소는 기능은 변경하지 않으면서 스크립트 및 CSS 파일에서 불필요한 문자를 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-173">Minification removes unnecessary characters from scripts and CSS files without altering functionality.</span></span>

<span data-ttu-id="9db38-174">추가적인 위치에 콘텐츠를 배포해야 하는 경우, 이 작업이 배포 프로세스의 추가 단계가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-174">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="9db38-175">일정한 간격으로 또는 이벤트에 대한 응답으로 응용 프로그램이 CDN에 대해 콘텐츠를 업데이트하는 경우 CDN의 끝점을 비롯한 추가적인 위치에 업데이트된 콘텐츠를 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-175">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="9db38-176">일부 정적 콘텐츠가 CDN에서 제공될 예정인 경우 로컬 개발 및 테스트를 처리하는 방법을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-176">Consider how you will handle local development and testing when some static content is expected to be served from a CDN.</span></span> <span data-ttu-id="9db38-177">예를 들어, 빌드 스크립트의 일부로 CDN에 콘텐츠를 미리 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-177">For example, you could pre-deploy the content to the CDN as part of your build script.</span></span> <span data-ttu-id="9db38-178">또는 컴파일 지시문이나 플래그를 사용하여 응용 프로그램이 리소스를 로드하는 방식을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-178">Alternatively, use compile directives or flags to control how the application loads the resources.</span></span> <span data-ttu-id="9db38-179">예를 들어, 디버그 모드에서 응용 프로그램은 로컬 폴더에서 정적 리소스를 로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-179">For example, in debug mode, the application could load static resources from a local folder.</span></span> <span data-ttu-id="9db38-180">릴리스 모드에서 응용 프로그램은 CDN을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-180">In release mode, the application would use the CDN.</span></span>

<span data-ttu-id="9db38-181">gzip(GNU zip)과 같은 파일 압축 옵션을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-181">Consider the options for file compression, such as gzip (GNU zip).</span></span> <span data-ttu-id="9db38-182">호스트하는 웹 응용 프로그램이 원본 서버에서 또는 CDN이 Edge 서버에서 직접 압축을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-182">Compression may be performed on the origin server by the web application hosting or directly on the edge servers by the CDN.</span></span> <span data-ttu-id="9db38-183">자세한 내용은 [Azure CDN에서 파일을 압축하여 성능 향상](/azure/cdn/cdn-improve-performance)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-183">For more information, see [Improve performance by compressing files in Azure CDN](/azure/cdn/cdn-improve-performance).</span></span>


### <a name="routing-and-versioning"></a><span data-ttu-id="9db38-184">라우팅 및 버전 관리</span><span class="sxs-lookup"><span data-stu-id="9db38-184">Routing and versioning</span></span>
<span data-ttu-id="9db38-185">다양한 시간에 여러 CDN 인스턴스를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-185">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="9db38-186">예를 들어 응용 프로그램의 새 버전을 배포할 때 새 CDN을 사용하고 이전 버전에 대한 이전 CDN(이전 형식의 콘텐츠 포함)를 유지하려 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-186">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="9db38-187">Azure Blob Storage를 콘텐츠 원본으로 사용하는 경우 별도의 저장소 계정 또는 컨테이너를 만들고 CDN 끝점이 이를 가리키도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-187">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span> 

<span data-ttu-id="9db38-188">Azure Blob Storage에서 콘텐츠를 검색할 때 쿼리 문자열이 리소스 이름(Blob 이름)의 일부이므로 CDN의 리소스에 대한 링크에서 응용 프로그램의 서로 다른 버전을 표시하기 위해 쿼리 문자열을 사용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-188">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="9db38-189">이 방법은 클라이언트가 리소스를 캐시하는 방법에도 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-189">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="9db38-190">CDN에 이전 리소스가 캐시된 경우에는 응용 프로그램을 업데이트할 때 정적 콘텐츠의 새 버전을 배포하는 것이 어려울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-190">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="9db38-191">자세한 내용은 아래에서 캐시 제어에 대한 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-191">For more information, see the section on cache control, below.</span></span>

<span data-ttu-id="9db38-192">국가별로 CDN 콘텐츠 액세스를 제한하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-192">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="9db38-193">Azure CDN을 사용하면 원본의 국가에 따라 요청을 필터링하고 전달되는 내용을 제한할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-193">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="9db38-194">자세한 내용은 [국가별로 콘텐츠에 대한 액세스 제한](/azure/cdn/cdn-restrict-access-by-country/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-194">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="9db38-195">캐시 제어</span><span class="sxs-lookup"><span data-stu-id="9db38-195">Cache control</span></span>
<span data-ttu-id="9db38-196">시스템 내에서 캐싱을 관리하는 방법을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-196">Consider how to manage caching within the system.</span></span> <span data-ttu-id="9db38-197">예를 들어, Azure CDN에서 전역 캐싱 규칙을 설정한 후 특정 원래 끝점에 대해 사용자 지정 캐싱을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-197">For example, in Azure CDN, you can set global caching rules, and then set custom caching for particular origin endpoints.</span></span> <span data-ttu-id="9db38-198">원본의 캐시 지시문 헤더를 전송하여 CDN에서 캐싱이 수행되는 방식을 제어할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-198">You can also control how caching is performed in a CDN by sending cache-directive headers at the origin.</span></span> 

<span data-ttu-id="9db38-199">자세한 내용은 [캐싱 작동 방식](/azure/cdn/cdn-how-caching-works)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-199">For more information, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

<span data-ttu-id="9db38-200">개체를 CDN에서 사용할 수 없도록 하려면 원본에서 삭제하거나 CDN 끝점을 제거 또는 삭제하거나, Blob Storage인 경우 컨테이너 또는 Blob를 비공개로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-200">To prevent objects from being available on the CDN, you can delete them from the origin, remove or delete the CDN endpoint, or in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="9db38-201">그러나 TTL(Time to Live)가 만료될 때까지 항목이 제거되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-201">However, items are not removed from the until the time-to-live expires.</span></span> <span data-ttu-id="9db38-202">수동으로 CDN 끝점을 삭제할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-202">You can also manually purge a CDN endpoint.</span></span>

### <a name="security"></a><span data-ttu-id="9db38-203">보안</span><span class="sxs-lookup"><span data-stu-id="9db38-203">Security</span></span>

<span data-ttu-id="9db38-204">CDN은 CDN에서 제공하는 인증서를 사용하여 HTTPS(SSL)를 통해서 뿐만 아니라 HTTP를 통해서도 콘텐츠를 배달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-204">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="9db38-205">혼합 콘텐츠에 대한 브라우저 경고를 방지하려면 HTTPS를 사용하여 HTTPS를 통해 로드된 페이지에 표시되는 정적 콘텐츠를 요청해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-205">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="9db38-206">CDN을 사용하여 글꼴 파일 같은 정적 자산을 배달하는 경우 *XMLHttpRequest* 호출을 사용하여 다른 도메인에서 이러한 리소스를 요청할 때 동일 원본 정책 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-206">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="9db38-207">적절한 응답 헤더를 설정하도록 웹 서버를 구성하지 않으면 많은 웹 브라우저에서 크로스-원본 자원 공유(CORS)를 차단합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-207">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="9db38-208">다음 방법 중 하나를 사용하여 CORS를 지원하도록 CDN을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-208">You can configure the CDN to support CORS by using one of the following methods:</span></span>

* <span data-ttu-id="9db38-209">응답에 CORS 헤더를 추가하도록 CDN을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-209">Configure the CDN to add CORS headers to the responses.</span></span> <span data-ttu-id="9db38-210">자세한 내용은 [CORS에서 Azure CDN 사용](/azure/cdn/cdn-cors)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-210">For more information, see [Using Azure CDN with CORS](/azure/cdn/cdn-cors).</span></span> 
* <span data-ttu-id="9db38-211">원본이 Azure Blob 저장소인 경우 저장소 끝점에 CORS 규칙을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-211">If the origin is Azure blob storage, add CORS rules to the storage endpoint.</span></span> <span data-ttu-id="9db38-212">자세한 내용은 [Azure Storage 서비스에 대한 크로스-원본 자원 공유(CORS) 지원](http://msdn.microsoft.com/library/azure/dn535601.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-212">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>
* <span data-ttu-id="9db38-213">CORS 헤더를 설정하도록 응용 프로그램을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-213">Configure the application to set the CORS headers.</span></span> <span data-ttu-id="9db38-214">예를 들어, ASP.NET Core 설명서에서 [CORS(원본 간 요청) 사용](/aspnet/core/security/cors)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9db38-214">For example, see [Enabling Cross-Origin Requests (CORS)](/aspnet/core/security/cors) in the ASp.NET Core documentation.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="9db38-215">CDN 대체</span><span class="sxs-lookup"><span data-stu-id="9db38-215">CDN fallback</span></span>
<span data-ttu-id="9db38-216">응용 프로그램이 CDN의 오류 또는 일시적인 중단에 대처하는 방법을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-216">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="9db38-217">클라이언트 응용 프로그램은 이전 요청 중에 로컬로 캐시(클라이언트에)된 리소스의 복사본을 사용하거나, CDN을 사용할 수 없는 경우 오류를 감지하고 대신 원본(리소스가 있는 응용 프로그램 폴더 또는 Azure Blob 컨테이너)의 리소스를 요청하는 코드를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-217">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>

<span data-ttu-id="9db38-218">다음 예제에서는 대체 메커니즘을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9db38-218">The following example shows a fallback mecha</span></span>
