---
title: '거버넌스 디자인 지침: 여러 팀을 위해 Azure에서 새로운 개발'
description: 여러 팀, 여러 워크로드 및 여러 환경에 대한 Azure 거버넌스 컨트롤을 구성하기 위한 지침
author: petertay
ms.openlocfilehash: 05f1f9bb24af4f4da55b15c1aca2c71bc0b65411
ms.sourcegitcommit: b3d74d8a89b2224fc796ce0e89cea447af43a0d4
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/11/2018
ms.locfileid: "35291311"
---
# <a name="governance-design-guide-new-development-in-azure-for-multiple-teams"></a><span data-ttu-id="ede94-103">거버넌스 디자인 지침: 여러 팀을 위해 Azure에서 새로운 개발</span><span class="sxs-lookup"><span data-stu-id="ede94-103">Governance design guide: new development in Azure for multiple teams</span></span>

<span data-ttu-id="ede94-104">이 지침의 목적은 Azure에서 리소스 거버넌스 모델을 디자인하기 위한 프로세스를 익히도록 돕는 데 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-104">The goal of this guidance is to help you learn the process for designing a resource governance model in Azure.</span></span>  <span data-ttu-id="ede94-105">가상의 거버넌스 요구 사항 집합을 살펴본 다음, 해당 요구 사항을 충족하는 몇 가지 예제 구현을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-105">We'll look at a set of hypothetical governance requirements, then go through several example implementations that satisfy those requirements.</span></span> 

<span data-ttu-id="ede94-106">요구 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-106">Our requirements are:</span></span>
* <span data-ttu-id="ede94-107">Azure에서 다른 리소스 액세스 요구 사항이 있는 여러 팀에 대한 ID 관리입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-107">Identity management for multiple teams with different resource access requirements in Azure.</span></span> <span data-ttu-id="ede94-108">ID 관리 시스템은 다음 사용자의 ID를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-108">The identity management system stores the identity of the following users:</span></span>
  1. <span data-ttu-id="ede94-109">**구독** 소유권을 담당하는 조직의 개인입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-109">The individual in our organization responsible for ownership of **subscriptions**.</span></span>
  2. <span data-ttu-id="ede94-110">온-프레미스 네트워크를 Azure 가상 네트워크에 연결하는 데 사용된 **공유 인프라 리소스**를 담당하는 조직의 개인입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-110">The individual in our organization responsible for the **shared infrastructure resources** used to connect our on-premises network to an Azure virtual network.</span></span> 
  3. <span data-ttu-id="ede94-111">**워크로드** 관리를 담당하는 조직의 개인 2명입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-111">Two individuals in our organization responsible for managing a **workload**.</span></span> 
* <span data-ttu-id="ede94-112">여러 **환경**에 대해 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-112">Support for multiple **environments**.</span></span> <span data-ttu-id="ede94-113">앞서 살펴본 것처럼 환경은 비슷한 관리 및 보안 요구를 사용한 리소스의 논리적 그룹화입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-113">As you learned earlier, an environment is a logical grouping of resources with similar management and security requirements.</span></span> <span data-ttu-id="ede94-114">다음 세 가지 환경이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-114">We require three environments:</span></span>
  1. <span data-ttu-id="ede94-115">다른 환경의 워크로드에서 공유하는 리소스를 포함하는 **공유 인프라 환경**입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-115">A **shared infrastructure environment** that includes resources shared by workloads in other environments.</span></span> <span data-ttu-id="ede94-116">예를 들어 온-프레미스에 연결을 제공하는 게이트웨이 서브넷이 있는 가상 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-116">For example, a virtual network with a gateway subnet that provides connectivity to on-premises.</span></span>
  2. <span data-ttu-id="ede94-117">가장 제한적인 보안 정책이 있는 **프로덕션 환경**입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-117">A **production environment** with the most restrictive security policies.</span></span> <span data-ttu-id="ede94-118">내부 또는 외부 연결 워크로드를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-118">May include internal or external facing workloads.</span></span>
  3. <span data-ttu-id="ede94-119">개념 증명 및 테스트 작업에 대한 **개발 환경**입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-119">A **development environment** for proof-of-concept and testing work.</span></span> <span data-ttu-id="ede94-120">이 환경에는 프로덕션 환경과 다른 보안, 준수 및 비용 정책이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-120">This environment has security, compliance, and cost policies that differ from those in the production environment.</span></span>
* <span data-ttu-id="ede94-121">기본적으로 사용자가 사용 권한이 없는 **최소 권한의 사용 권한 모델**입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-121">A **permissions model of least privilege** in which users have no permissions by default.</span></span> <span data-ttu-id="ede94-122">모델은 다음을 지원해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-122">The model must support the following:</span></span>
  * <span data-ttu-id="ede94-123">리소스 액세스 권한을 할당할 권한이 있는 구독 범위에서 신뢰할 수 있는 단일 사용자입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-123">A single trusted user at the subscription scope with permission to assign resource access rights.</span></span>
  * <span data-ttu-id="ede94-124">각 워크로드 소유자는 기본적으로 리소스에 대한 액세스가 거부됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-124">Each workload owner is denied access to resources by default.</span></span> <span data-ttu-id="ede94-125">리소스 액세스 권한은 구독 범위에서 신뢰할 수 있는 단일 사용자가 명시적으로 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-125">Resource access rights are granted explicitly by the single trusted user at the subscription scope.</span></span>
  * <span data-ttu-id="ede94-126">공유 인프라 소유자에게 제한된 공유 인프라 리소스에 대한 액세스 관리입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-126">Management access for the shared infrastructure resources limited to the shared infrastructure owner.</span></span>  
  * <span data-ttu-id="ede94-127">워크로드 소유자에게 제한된 각 워크로드에 대한 액세스 관리입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-127">Management access for each workload restricted to the workload owner.</span></span>
  * <span data-ttu-id="ede94-128">[기본 제공 RBAC 역할][rbac-built-in-roles]만 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-128">Use of [built-in RBAC roles][rbac-built-in-roles] only.</span></span> <span data-ttu-id="ede94-129">사용자 지정 RBAC 역할이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-129">No custom RBAC roles.</span></span>
* <span data-ttu-id="ede94-130">워크로드 소유자 이름, 환경 또는 둘 다의 추적 비용입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-130">Cost tracking by workload owner name, environment, or both.</span></span> 

## <a name="identity-management"></a><span data-ttu-id="ede94-131">ID 관리</span><span class="sxs-lookup"><span data-stu-id="ede94-131">Identity management</span></span>

<span data-ttu-id="ede94-132">거버넌스 모델에 대한 ID 관리를 디자인할 수 있기 전에 이 모델이 포함하는 네 개의 주요 영역을 이해하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-132">Before we can design identity management for our governance model, it's important to understand the four major areas it encompasses:</span></span>

* <span data-ttu-id="ede94-133">관리: 사용자 ID를 만들고 편집하고 삭제하기 위한 프로세스 및 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-133">Administration: the processes and tools for creating, editing, and deleting user identity.</span></span>
* <span data-ttu-id="ede94-134">인증: 사용자 이름 및 암호 같은 자격 증명의 유효성을 검사하여 사용자 ID를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-134">Authentication: verifying user identity by validating credentials, such as a user name and password.</span></span>
* <span data-ttu-id="ede94-135">권한 부여: 인증된 사용자에게 액세스가 허용된 리소스 또는 인증된 사용자가 수행할 권한이 있는 작업을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-135">Authorization: determining which resources an authenticated user is allowed to access or what operations they have permission to perform.</span></span>
* <span data-ttu-id="ede94-136">감사: 사용자 ID와 관련된 보안 문제를 검색하려면 주기적으로 로그 및 기타 정보를 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-136">Auditing: periodically reviewing logs and other information to discover security issues related to user identity.</span></span> <span data-ttu-id="ede94-137">여기에는 의심스러운 사용 패턴 검토, 사용자 권한이 정확한지 확인하기 위한 주기적인 검토 및 기타 기능이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-137">This includes reviewing suspicious usage patterns, periodically reviewing user permissions to verify they are accurate, and other functions.</span></span>

<span data-ttu-id="ede94-138">ID에 대해 Azure에서 신뢰하는 유일한 서비스는 Azure AD(Active Directory)입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-138">There is only one service trusted by Azure for identity, and that is Azure Active Directory (AD).</span></span> <span data-ttu-id="ede94-139">Azure AD에 사용자를 추가하고 위에 나열된 모든 기능에 대해 Azure AD를 사용하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-139">We'll be adding users to Azure AD and using it for all of the functions listed above.</span></span> <span data-ttu-id="ede94-140">Azure AD를 구성하는 방법을 살펴보기 전에 이러한 서비스에 대한 액세스를 관리하는 데 사용되는 권한 있는 계정을 이해하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-140">But before we look at how we'll configure Azure AD, it's important to understand the privileged accounts that are used to manage access to these services.</span></span>

<span data-ttu-id="ede94-141">조직이 Azure 계정에 등록한 경우 아직 조직의 Office 365와 같은 다른 Microsoft 서비스 사용과 연결된 Azure AD 테넌트가 없다면 적어도 1명 이상의 Azure **계정 소유자**가 할당되고 Azure AD **테넌트**가 만들어졌습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-141">When your organization signed up for an Azure account, at least one Azure **account owner** was assigned and an Azure AD **tenant** was created if there was not already an Azure AD tenant associated with your organization's use of other Microsoft services such as Office 365.</span></span> <span data-ttu-id="ede94-142">Azure AD 테넌트에 대한 모든 권한이 있는 **전역 관리자**가 만들어졌을 때 연결됐습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-142">A **global administrator** with full permissions on the Azure AD tenant was associated when it was created.</span></span> 

<span data-ttu-id="ede94-143">Azure 계정 소유자와 Azure AD 전역 관리자의 사용자 ID 모두는 Microsoft에서 관리하는 보안성이 높은 ID 시스템에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-143">Both of the Azure Account Owner and Azure AD global administrator user identities are stored in a highly secure identity system that is managed by Microsoft.</span></span> <span data-ttu-id="ede94-144">Azure 계정 소유자는 구독 만들기, 업데이트 및 삭제 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-144">The Azure Account Owner is authorized to create, update, and delete subscriptions.</span></span> <span data-ttu-id="ede94-145">Azure AD 전역 관리자는 Azure AD에서 많은 작업을 수행할 권한이 있지만 이 디자인 지침의 경우 사용자 ID의 생성 및 삭제에 대해 집중적으로 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-145">The Azure AD global administrator is authorized to perform many actions in Azure AD, but for this design guide we'll focus on the creation and deletion of user identity.</span></span> 

> [!NOTE]
> <span data-ttu-id="ede94-146">사용자 계정과 연결된 기존 Office 365 또는 Intune 라이선스가 있는 경우 조직에는 이미 기존 Azure AD 테넌트가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-146">Your organization may already have an existing Azure AD tenant if there's an existing Office 365 or Intune license associated with your account.</span></span>

<span data-ttu-id="ede94-147">Azure 계정 소유자는 구독 만들기, 업데이트 및 삭제 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-147">The Azure Account Owner has permission to create, update, and delete subscriptions:</span></span> 

<span data-ttu-id="ede94-148">![Azure 계정 관리자 및 Azure AD 전역 관리자가 있는 Azure 계정](../_images/governance-3-0.png)
*그림 1. Azure 계정 관리자 및 Azure AD 전역 관리자가 있는 Azure 계정.*</span><span class="sxs-lookup"><span data-stu-id="ede94-148">![Azure account with Azure Account Manager and Azure AD global admin](../_images/governance-3-0.png)
*Figure 1. An Azure account with an Account Manager and Azure AD Global Administrator.*</span></span>

<span data-ttu-id="ede94-149">Azure AD **전역 관리자**는 사용자 계정을 만들 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-149">The Azure AD **global administrator** has permission to create user accounts:</span></span>  

<span data-ttu-id="ede94-150">![Azure 계정 관리자 및 Azure AD 전역 관리자가 있는 Azure 계정](../_images/governance-3-0a.png)
*그림 2. Azure AD 전역 관리자는 테넌트에서 필요한 사용자 계정을 만듭니다.*</span><span class="sxs-lookup"><span data-stu-id="ede94-150">![Azure account with Azure Account Manager and Azure AD global admin](../_images/governance-3-0a.png)
*Figure 2. The Azure AD Global Administrator creates the required user accounts in the tenant.*</span></span>

<span data-ttu-id="ede94-151">처음 두 계정, **App1 워크로드 소유자** 및 **App2 워크로드 소유자**는 각각 워크로드 관리를 담당하는 조직의 개인과 연결돼 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-151">The first two accounts, **App1 Workload Owner** and **App2 Workload Owner** are each associated with an individual in our organization responsible for managing a workload.</span></span> <span data-ttu-id="ede94-152">**네트워크 작업** 계정은 공유 인프라 리소스를 담당하는 개인이 소유합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-152">The **network operations** account is owned by the individual that is responsible for the shared infrastructure resources.</span></span> <span data-ttu-id="ede94-153">마지막으로 **구독 소유자** 계정은 구독 소유권을 담당하는 개인과 연결되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-153">Finally, the **subscription owner** account is associated with the individual responsible for ownership of subscriptions.</span></span>

## <a name="resource-access-permissions-model-of-least-privilege"></a><span data-ttu-id="ede94-154">최소 권한의 리소스 액세스 권한 모델</span><span class="sxs-lookup"><span data-stu-id="ede94-154">Resource access permissions model of least privilege</span></span>

<span data-ttu-id="ede94-155">ID 관리 시스템 및 사용자 계정이 생성됐으므로 최소 권한의 사용 권한 모델을 지원하려면 RBAC(역할 기반 액세스 컨트롤) 역할을 각 계정에 적용하는 방법을 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-155">Now that we have our identity management system and user accounts created, we have to decide how we'll apply role-based access control (RBAC) roles to each account to support a permissions model of least privilege.</span></span>

<span data-ttu-id="ede94-156">다른 요구 사항은 워크로드 소유자가 소유하지 않은 다른 모든 작업에 대한 관리 액세스 권한을 갖도록 각 워크로드와 연결된 리소스가 서로 격리되는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-156">Our other requirement is for the resources associated with each workload be isolated from one another such that no one workload owner has management access to any other workload they do not own.</span></span> <span data-ttu-id="ede94-157">[Azure RBAC의 기본 제공 역할][rbac-built-in-roles]만 사용하여 이 모델을 구현하기 위한 요구 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-157">We have a requirement to implement this model using only [built-in roles for Azure RBAC][rbac-built-in-roles].</span></span>

<span data-ttu-id="ede94-158">각 RBAC 역할은 Azure에서 **구독**, **리소스 그룹** 및 개별 **리소스**의 3개 범위 중 하나에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-158">Each RBAC role is applied at one of three scopes in Azure: **subscription**, **resource group**, then an individual **resource**.</span></span> <span data-ttu-id="ede94-159">역할은 더 낮은 범위에서 상속됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-159">Roles are inherited at lower scopes.</span></span> <span data-ttu-id="ede94-160">예를 들어 구독 수준에서 사용자에 게 [기본 제공 소유자 역할][rbac-built-in-owner]이 할당되는 경우 해당 역할은 재정의되지 않는 한 리소스 그룹 및 개별 리소스 수준에서 해당 사용자에게 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-160">For example, if a user is assigned the [built-in owner role][rbac-built-in-owner] at the subscription level, that role is also assigned to that user at the resource group and individual resource level unless it's overridden.</span></span>

<span data-ttu-id="ede94-161">따라서 최소 권한 액세스 모델을 만들려면 특정 유형의 사용자가 이러한 세 가지 범위 각각에서 수행하도록 허용된 작업을 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-161">Therefore, to create a model of least privilege access we have to decide the actions a particular type of user is allowed to take at each of these three scopes.</span></span> <span data-ttu-id="ede94-162">예를 들어 요구 사항은 워크로드 소유자가 다른 리소스를 제외한 해당 워크로드와 연결된 리소스에 대해서만 액세스를 관리할 권한을 갖는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-162">For example, our requirement is for a workload owner to have permission to manage access to only the resources associated with their workload and no others.</span></span> <span data-ttu-id="ede94-163">구독 범위에서 [기본 제공 소유자 역할][rbac-built-in-owner]을 할당해야 하는 경우 각 워크로드 소유자에게 모든 작업에 대한 관리 액세스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-163">If we were to assign the [built-in owner role][rbac-built-in-owner] at the subscription scope, each workload owner would have management access to all workloads.</span></span>

<span data-ttu-id="ede94-164">이 개념을 좀 더 잘 이해하려면 두 사용 권한 모델 예제에 대해 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-164">Let's take a look at two example permission models to understand this concept a little better.</span></span> <span data-ttu-id="ede94-165">첫 번째 예제에서 모델은 리소스 그룹을 만들려면 서비스 관리자만 신뢰합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-165">In the first example, our model trusts only the service administrator to create resource groups.</span></span> <span data-ttu-id="ede94-166">두 번째 예제에서 모델은 구독 범위에서 각 워크로드 소유자에게 기본 제공 소유자 역할을 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-166">In the second example, our model assigns the built-in owner role to each workload owner at the subscription scope.</span></span> 

<span data-ttu-id="ede94-167">두 예제에서는 구독 범위에서 [기본 제공 소유자 역할][rbac-built-in-owner]이 할당된 구독 서비스 관리자가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-167">In both examples, we have a subscription service administrator that is assigned the [built-in owner role][rbac-built-in-owner] at the subscription scope.</span></span> <span data-ttu-id="ede94-168">[기본 제공 소유자 역할][rbac-built-in-owner]은 리소스에 대한 액세스 관리를 비롯한 모든 사용 권한을 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-168">Recall that the [built-in owner role][rbac-built-in-owner] grants all permissions including the management of access to resources.</span></span>
<span data-ttu-id="ede94-169">![소유자 역할이 있는 구독 서비스 관리자](../_images/governance-2-1.png)
*그림 3. 기본 제공 소유자 역할이 할당된 서비스 관리자가 있는 구독입니다.*</span><span class="sxs-lookup"><span data-stu-id="ede94-169">![subscription service administrator with owner role](../_images/governance-2-1.png)
*Figure 3. A subscription with a service administrator assigned the built-in owner role.*</span></span> 

1. <span data-ttu-id="ede94-170">첫 번째 예제에서 구독 범위에서 아무런 권한이 없는 **워크로드 소유자 A**는 기본적으로 리소스 액세스 관리 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-170">In our first example, we have **workload owner A** with no permissions at the subscription scope - they have no resource access management rights by default.</span></span> <span data-ttu-id="ede94-171">이 사용자는 해당 워크로드에 대한 리소스를 배포하고 관리하려 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-171">This user wants to deploy and manage the resources for their workload.</span></span> <span data-ttu-id="ede94-172">리소스 그룹 만들기를 요청하려면 **서비스 관리자**에게 문의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-172">They must contact the **service administrator** to request creation of a resource group.</span></span>
<span data-ttu-id="ede94-173">![워크로드 소유자가 리소스 그룹 A 만들기를 요청](../_images/governance-2-2.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-173">![workload owner requests creation of resource group A](../_images/governance-2-2.png)</span></span>  

2. <span data-ttu-id="ede94-174">**서비스 관리자**는 해당 요청을 검토한 후, **리소스 그룹 A**를 만듭니다. 이 시점에서 **워크로드 소유자**는 아직 어떤 작업도 수행할 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-174">The **service administrator** reviews their request and creates **resource group A**. At this point, **workload owner A** still doesn't have permission to do anything.</span></span>
<span data-ttu-id="ede94-175">![서비스 관리자는 리소스 그룹 A를 생성](../_images/governance-2-3.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-175">![service administrator creates resource group A](../_images/governance-2-3.png)</span></span>

3. <span data-ttu-id="ede94-176">**서비스 관리자**는 **워크로드 소유자 A**를 **리소스 그룹 A**에 추가하고 [기본 제공 기여자 역할](/azure/role-based-access-control/built-in-roles#contributor)을 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-176">The **service administrator** adds **workload owner A** to **resource group A** and assigns the [built-in contributor role](/azure/role-based-access-control/built-in-roles#contributor).</span></span> <span data-ttu-id="ede94-177">기여자 역할은 액세스 권한 관리를 제외하고 **리소스 그룹 A**에 대한 모든 권한을 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-177">The contributor role grants all permissions on **resource group A** except managing access permission.</span></span>
<span data-ttu-id="ede94-178">![서비스 관리자는 리소스 그룹 A에 워크로드 소유자를 추가](../_images/governance-2-4.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-178">![service administrator adds workload owner a to resource group a](../_images/governance-2-4.png)</span></span>

4. <span data-ttu-id="ede94-179">**워크로드 소유자 A**에게는 CPU 및 네트워크 트래픽 모니터링 데이터를 워크로드에 대한 용량 계획의 일부로 보려면 한 쌍의 팀 멤버에 대해 요구 사항이 있다고 가정합시다.</span><span class="sxs-lookup"><span data-stu-id="ede94-179">Let's assume that **Workload owner A** has a requirement for a pair of team members to view the CPU and network traffic monitoring data as part of capacity planning for the workload.</span></span> <span data-ttu-id="ede94-180">**작업 소유자 A**에게는 기여자 역할이 할당됐기 때문에 **리소스 그룹 A**에 사용자를 추가할 권한이 없습니다. 이 요청을 **서비스 관리자**에게 보내야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-180">Because **workload owner A** is assigned the contributor role, they do not have permission to add a user to **resource group A**. They must send this request to the **service administrator**.</span></span>
<span data-ttu-id="ede94-181">![워크로드 소유자는 워크로드 기여자를 리소스 그룹에 추가할 것을 요청](../_images/governance-2-5.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-181">![workload owner requests workload contributors be added to resource group](../_images/governance-2-5.png)</span></span>

5. <span data-ttu-id="ede94-182">**서비스 관리자**는 요청을 검토하고 두 **워크로드 기여자** 사용자를 **리소스 그룹 A**에 추가합니다. 이러한 두 사용자 누구도 리소스를 관리할 권한이 필요치 않으므로 [기본 제공 판독기 역할](/azure/role-based-access-control/built-in-roles#contributor)이 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-182">The **service administrator** reviews the request, and adds the two **workload contributor** users to **resource group A**. Neither of these two users require permission to manage resources, so they are assigned the [built-in reader role](/azure/role-based-access-control/built-in-roles#contributor).</span></span> 
<span data-ttu-id="ede94-183">![서비스 관리자는 리소스 그룹 A에 워크로드 기여자를 추가](../_images/governance-2-6.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-183">![service administrator adds workload contributors to resource group A](../_images/governance-2-6.png)</span></span>

6. <span data-ttu-id="ede94-184">다음으로 **워크로드 소유자 B**는 리소스 그룹이 해당 워크로드에 대한 리소스를 포함할 것을 요구합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-184">Next, **workload owner B** also requires a resource group to contain the resources for their workload.</span></span> <span data-ttu-id="ede94-185">**워크로드 소유자 A**와 마찬가지로 **워크로드 소유자 B**는 처음에 구독 범위에서 작업을 수행할 권한이 없으므로 요청을 **서비스 관리자**에게 보내야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-185">As with **workload owner A**, **workload owner B** initially does not have permission to take any action at the subscription scope so they must send a request to the **service administrator**.</span></span> 
<span data-ttu-id="ede94-186">![워크로드 소유자 B가 리소스 그룹 B 만들기를 요청](../_images/governance-2-7.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-186">![workload owner B requests creation of resource group B](../_images/governance-2-7.png)</span></span>

7. <span data-ttu-id="ede94-187">**서비스 관리자**는 해당 요청을 검토한 후, **리소스 그룹 B**를 만듭니다. ![서비스 관리자는 리소스 그룹 B를 생성](../_images/governance-2-8.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-187">The **service administrator** reviews the request and creates **resource group B**. ![Service Administrator creates resource group B](../_images/governance-2-8.png)</span></span>

8. <span data-ttu-id="ede94-188">**서비스 관리자**는 **워크로드 소유자 B**를 **리소스 그룹 B**에 추가하고 [기본 제공 기여자 역할](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor)을 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-188">The **service administrator** then adds **workload owner B** to **resource group B** and assigns the [built-in contributor role](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor).</span></span> 
<span data-ttu-id="ede94-189">![서비스 관리자는 리소스 그룹 B에 워크로드 소유자 B를 추가](../_images/governance-2-9.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-189">![Service Administrator adds Workload Owner B to resource group B](../_images/governance-2-9.png)</span></span>

<span data-ttu-id="ede94-190">이 시점에서 각 워크로드 소유자는 해당 고유 리소스 그룹에서 격리됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-190">At this point, each of the workload owners is isolated in their own resource group.</span></span> <span data-ttu-id="ede94-191">워크로드 소유자 또는 팀 멤버 중 누구도 다른 모든 리소스에서 관리 액세스 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-191">None of the workload owners or their team members have management access to the resources in any other resource group.</span></span> 

<span data-ttu-id="ede94-192">![리소스 그룹 A 및 B가 있는 구독](../_images/governance-2-10.png)
*그림 4. 해당 리소스 그룹 자체와 격리된 두 워크로드 소유자가 있는 구독입니다.*</span><span class="sxs-lookup"><span data-stu-id="ede94-192">![subscription with resource groups A and B](../_images/governance-2-10.png)
*Figure 4. A subscription with two workload owners isolated with their own resource group.*</span></span>

<span data-ttu-id="ede94-193">이 모델은 최소 권한 모델입니다 - 각 사용자에게 올바른 리소스 관리 범위에서 올바른 사용 권한이 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-193">This model is a least privilege model - each user is assigned the correct permission at the correct resource management scope.</span></span>

<span data-ttu-id="ede94-194">그러나 이 예제의 모든 작업을 **서비스 관리자**가 수행한 것은 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-194">However, consider that every task in this example was performed by the **service administrator**.</span></span> <span data-ttu-id="ede94-195">이 예제는 간단하며, 워크로드 소유자가 두 명밖에 없었기 때문에 문제처럼 보이지 않을 수 있는 반면 대규모 조직의 경우에 이런 문제 유형이 발생한다는 것은 쉽게 상상할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-195">While this is a simple example and may not appear to be an issue because there were only two workload owners, it's easy to imagine the types of issues that would result for a large organization.</span></span> <span data-ttu-id="ede94-196">예를 들어 **서비스 관리자**는 요청의 큰 백로그가 있는 병목 상태가 되어 결국 지연될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-196">For example, the **service administrator** can become a bottleneck with a large backlog of requests that result in delays.</span></span>  

<span data-ttu-id="ede94-197">**서비스 관리자**가 수행하는 작업의 수를 줄여주는 두 번째 예제를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-197">Let's take a look at second example that reduces the number of tasks performed by the **service administrator**.</span></span> 

1. <span data-ttu-id="ede94-198">이 모델에서 **워크로드 소유자 A**에게는 고유한 리소스 그룹인 **리소스 그룹 A**를 만들 수 있도록 구독 범위에서 [기본 제공 소유자 역할][rbac-built-in-owner]이 할당되었습니다. ![서비스 관리자는 구독에 워크로드 소유자 A를 추가](../_images/governance-2-11.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-198">In this model, **workload owner A** is assigned the [built-in owner role][rbac-built-in-owner] at the subscription scope, enabling them to create their own resource group: **resource group A**. ![Service Administrator adds Workload Owner A to subscription](../_images/governance-2-11.png)</span></span>

2. <span data-ttu-id="ede94-199">**리소스 그룹 A**를 만들면 **워크로드 소유자 A**는 기본적으로 추가되고 구독 범위에서 [기본 제공 소유자][rbac-built-in-owner] 역할을 상속받습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-199">When **resource group A** is created, **workload owner A** is added by default and inherits the [built-in owner][rbac-built-in-owner] role from the subscription scope.</span></span>
<span data-ttu-id="ede94-200">![워크로드 소유자 A는 리소스 그룹 A를 생성](../_images/governance-2-12.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-200">![Workload Owner A creates resource group A](../_images/governance-2-12.png)</span></span>

3. <span data-ttu-id="ede94-201">[기본 제공 소유자 역할][rbac-built-in-owner]은 리소스 그룹에 대한 액세스를 관리하는 사용 권한을 **워크로드 소유자 A**에게 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-201">The [built-in owner role][rbac-built-in-owner] grants **workload owner A** permission to manage access to the resource group.</span></span> <span data-ttu-id="ede94-202">**워크로드 소유자 A**는 두 명의 **워크로드 기여자**를 추가하고 이들 각각에 [기본 제공 읽기 역할][rbac-built-in-owner]을 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-202">**Workload owner A** adds two **workload contributors** and assigns the [built-in reader role][rbac-built-in-owner] to each of them.</span></span> 
<span data-ttu-id="ede94-203">![워크로드 소유자 A는 워크로드 기여자를 추가](../_images/governance-2-13.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-203">![Workload Owner A adds Workload Contributors](../_images/governance-2-13.png)</span></span>

4. <span data-ttu-id="ede94-204">**서비스 관리자**는 이제 **워크로드 소유자 B**를 기본 제공 소유자 역할이 있는 구독에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-204">**Service administrator** now adds **workload owner B** to the subscription with the built-in owner role.</span></span> 
<span data-ttu-id="ede94-205">![서비스 관리자는 구독에 워크로드 소유자 B를 추가](../_images/governance-2-14.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-205">![Service Administrator adds Workload Owners B to subscription](../_images/governance-2-14.png)</span></span>

5. <span data-ttu-id="ede94-206">**워크로드 소유자 B**는 **리소스 그룹 B**를 만들고 기본적으로 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-206">**Workload owner B** creates **resource group B** and is added by default.</span></span> <span data-ttu-id="ede94-207">다시 **워크로드 소유자 B**는 구독 범위에서 기본 제공 소유자 역할을 상속합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-207">Again, **workload owner B** inherits the built-in owner role from the subscription scope.</span></span>
<span data-ttu-id="ede94-208">![워크로드 소유자 B는 리소스 그룹 B를 생성](../_images/governance-2-15.png)</span><span class="sxs-lookup"><span data-stu-id="ede94-208">![Workload Owner B creates resource group B](../_images/governance-2-15.png)</span></span>

<span data-ttu-id="ede94-209">이 모델에서 **서비스 관리자**는 개별 워크로드 소유자 각각에 대한 관리 액세스의 위임으로 인해 첫 번째 예제에서 보다 더 적은 작업을 수행했습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-209">Note that in this model, the **service administrator** performed fewer actions than they did in the first example due to the delegation of management access to each of the individual workload owners.</span></span>

<span data-ttu-id="ede94-210">![리소스 그룹 A 및 B가 있는 구독](../_images/governance-2-16.png)
*그림 5. 기본 제공 소유자 역할이 모두 할당된 서비스 관리자 및 두 명의 워크로드 소유자가 있는 구독입니다.*</span><span class="sxs-lookup"><span data-stu-id="ede94-210">![subscription with resource groups A and B](../_images/governance-2-16.png)
*Figure 5. A subscription with a service administrator and two workload owners, all assigned the built-in owner role.*</span></span>

<span data-ttu-id="ede94-211">그러나 **워크로드 소유자 A** 및 **워크로드 소유자 B** 둘 다에게 구독 범위에서 기본 제공 소유자 역할이 할당됐기 때문에 이들 각자는 서로의 리소스 그룹에 대해 기본 제공 소유자 역할을 상속받았습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-211">However, because both **workload owner A** and **workload owner B** are assigned the built-in owner role at the subscription scope, they have each inherited the built-in owner role for each other's resource group.</span></span> <span data-ttu-id="ede94-212">즉, 서로의 리소스에 대한 모든 권한을 가질 뿐 아니라, 서로의 리소스 그룹에 대한 관리 액세스 위임할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-212">This means that not only do they have full access to one another's resources, they are also able to delegate management access to each other's resource groups.</span></span> <span data-ttu-id="ede94-213">예를 들어 **워크로드 소유자 B**는 **리소스 그룹 A**에 다른 모든 사용자를 추가할 권한이 있으며 기본 제공 소유자 역할을 포함하여 모든 역할을 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-213">For example, **workload owner B** has rights to add any other user to **resource group A** and can assign any role to them, including the built-in owner role.</span></span>

<span data-ttu-id="ede94-214">요구 사항과 각 예제를 비교하면 두 예제 모두 두 워크로드 소유자에 대한 리소스 액세스 권한을 부여할 권한이 있는 구독 범위에서 신뢰할 수 있는 단일 사용자를 지원한다는 것을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-214">If we compare each example to our requirements, we see that both examples support a single trusted user at the subscription scope with permission to grant resource access rights to our two workload owners.</span></span> <span data-ttu-id="ede94-215">두 워크로드 소유자 각자는 기본적으로 리소스 관리에 대한 액세스 권한이 없었으며 명시적으로 **서비스 관리자**에게 해당 권한을 할당하도록 요구했습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-215">Each of the two workload owners did not have access to resource management by default and required the **service administrator** to explicitly assign permissions to them.</span></span> <span data-ttu-id="ede94-216">그러나 첫 번째 예제만 어떤 워크로드 소유자도 다른 모든 워크로드의 리소스에 대해 액세스할 수 없도록 각 워크로드와 연결된 리소스가 서로에게서 격리되어야 하는 요구 사항을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-216">However, only the first example supports the requirement that the resources associated with each workload are isolated from one another such that no workload owner has access to the resources of any other workload.</span></span>

## <a name="resource-management-model"></a><span data-ttu-id="ede94-217">리소스 관리 모델</span><span class="sxs-lookup"><span data-stu-id="ede94-217">Resource management model</span></span>

<span data-ttu-id="ede94-218">최소 권한의 사용 권한 모델을 디자인했으므로 이러한 거버넌스 모델로 이동해 몇 가지 실제적인 응용 프로그램을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-218">Now that we've designed a permissions model of least privilege, let's move on to take a look at some practical applications of these governance models.</span></span> <span data-ttu-id="ede94-219">다음 세 가지 환경을 지원해야 한다는 요구 사항을 기억하십시오.</span><span class="sxs-lookup"><span data-stu-id="ede94-219">Recall from our requirements that we must support the following three environments:</span></span>
1. <span data-ttu-id="ede94-220">**공유 인프라:** 모든 워크 로드에서 공유하는 단일 리소스 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-220">**Shared infrastructure:** a single group of resources shared by all workloads.</span></span> <span data-ttu-id="ede94-221">이들은 네트워크 게이트웨이, 방화벽 및 보안 서비스 같은 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-221">These are resources such as network gateways, firewalls, and security services.</span></span>  
2. <span data-ttu-id="ede94-222">**개발:** 여러 비프로덕션 준비 워크로드를 나타내는 여러 리소스 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-222">**Development:** multiple groups of resources representing multiple non-production ready workloads.</span></span> <span data-ttu-id="ede94-223">이러한 리소스는 개념 증명, 테스트 및 다른 개발자 활동에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-223">These resources are used for proof-of-concept, testing, and other developer activities.</span></span> <span data-ttu-id="ede94-224">이러한 리소스에는 개발자 민첩성 향상을 허용하기 때문에 더 관대한 거버넌스 모델이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-224">These resources may have a more relaxed governance model because to allow for increased developer agility.</span></span>
3. <span data-ttu-id="ede94-225">**프로덕션:** 여러 프로덕션 워크로드를 나타내는 여러 리소스 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-225">**Production:** multiple groups of resources representing multiple production workloads.</span></span> <span data-ttu-id="ede94-226">이러한 리소스는 개인 및 공용 연결 응용 프로그램 아티팩트를 호스트하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-226">These resources are used to host the private and public facing application artifacts.</span></span> <span data-ttu-id="ede94-227">이러한 리소스에는 일반적으로 리소스, 응용 프로그램 코드 및 데이터를 무단 액세스로부터 보호하려면 가장 강력한 거버넌스 및 보안 모델이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-227">These resources typically have the tightest governance and security models to protect the resources, application code, and data from unauthorized access.</span></span>

<span data-ttu-id="ede94-228">이러한 세 가지 환경 각각의 경우 **워크로드 소유자**, **환경** 또는 둘 다에 의한 비용 데이터 추적 요구 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-228">For each of these three environments, we have a requirement to track cost data by **workload owner**, **environment**, or both.</span></span> <span data-ttu-id="ede94-229">즉, **공유 인프라**의 지속적인 비용, **개발** 및 **프로덕션** 환경 모두에서 개인에 의해 발생한 비용 및 마지막으로 **개발** 및 **프로덕션**의 전반적인 비용에 대해 알고 싶습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-229">That is, we want to know the ongoing cost of our **shared infrastructure**, the costs incurred by individuals in both the **development** and **production** environments, and finally the overall cost of **development** and **production**.</span></span> 

<span data-ttu-id="ede94-230">리소스가 **구독** 및 **리소스 그룹**, 두 수준으로 구분된다는 것을 이미 알게 됐습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-230">You have already learned that resources are scoped to two levels: **subscription** and **resource group**.</span></span> <span data-ttu-id="ede94-231">따라서 첫 번째로 **구독**으로 환경을 구성하는 방법을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-231">Therefore, our first decision is how to organize our environments by **subscription**.</span></span> <span data-ttu-id="ede94-232">단일 구독 또는 여러 구독 등의 두 가지 가능성만 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-232">There are only two possibilities: a single subscription, or, multiple subscriptions.</span></span> 

<span data-ttu-id="ede94-233">이러한 모델 각각의 예를 살펴보기 전에 Azure에서 구독에 대한 관리 구조를 검토해봅시다.</span><span class="sxs-lookup"><span data-stu-id="ede94-233">Before we look at examples of each of these models, let's review the management structure for subscriptions in Azure.</span></span> 

<span data-ttu-id="ede94-234">구독을 담당하는 조직의 개인이 있으며 이 사용자가 Azure AD 테넌트의 **구독 소유자**를 소유한다는 것을 요구 사항에서 회수합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-234">Recall from our requirements that we have an individual in our organization that is responsible for subscriptions, and this user owns the **subscription owner** account in our Azure AD tenant.</span></span> <span data-ttu-id="ede94-235">그러나 이 계정에서는 구독을 만들 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-235">However, this account does not have permission to create subscriptions.</span></span> <span data-ttu-id="ede94-236">**Azure 계정 소유자**만 이 작업을 수행할 권한이 있습니다. ![](../_images/governance-3-0b.png)
*그림 6. Azure 계정 소유자가 구독을 만듭니다.*</span><span class="sxs-lookup"><span data-stu-id="ede94-236">Only the **Azure Account Owner** has permission to do this: ![](../_images/governance-3-0b.png)
*Figure 6. An Azure Account Owner creates a subscription.*</span></span>

<span data-ttu-id="ede94-237">구독을 만들었으면 **Azure 계정 소유자**는 **구독 소유자** 계정을 **소유자** 역할이 있는 구독에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-237">Once the subscription has been created, the **Azure Account Owner** can add the **subscription owner** account to the subscription with the **owner** role:</span></span>

<span data-ttu-id="ede94-238">![](../_images/governance-3-0c.png)
*그림 7. Azure 계정 소유자는 **구독 소유자** 사용자 계정을 **소유자** 역할이 있는 구독에 추가합니다.*</span><span class="sxs-lookup"><span data-stu-id="ede94-238">![](../_images/governance-3-0c.png)
*Figure 7. The Azure Account Owner adds the **subscription owner** user account to the subscription with the **owner** role.*</span></span>

<span data-ttu-id="ede94-239">**구독 소유자**는 이제 **리소스 그룹**을 만들고 리소스 액세스 관리를 위임할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-239">The **subscription owner** can now create **resource groups** and delegate resource access management.</span></span>

<span data-ttu-id="ede94-240">먼저, 단일 구독을 사용하여 예제 리소스 관리 모델을 살펴봅시다.</span><span class="sxs-lookup"><span data-stu-id="ede94-240">First let's look at an example resource management model using a single subscription.</span></span> <span data-ttu-id="ede94-241">첫 번째로 세 가지 환경에 리소스 그룹을 정렬하는 방법을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-241">Our first decision is how to align resource groups to the three environments.</span></span> <span data-ttu-id="ede94-242">다음 두 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-242">We have two options:</span></span>
1. <span data-ttu-id="ede94-243">단일 리소스 그룹에 각 환경을 정렬합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-243">Align each environment to a single resource group.</span></span> <span data-ttu-id="ede94-244">모든 공유 인프라 리소스를 단일 **공유 인프라** 리소스 그룹에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-244">All shared infrastructure resources are deployed to a single **shared infrastructure** resource group.</span></span> <span data-ttu-id="ede94-245">개발 워크로드와 연결된 모든 리소스를 단일 **개발** 리소스 그룹에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-245">All resources associated with development workloads are deployed to a single **development** resource group.</span></span> <span data-ttu-id="ede94-246">프로덕션 워크로드와 연결된 모든 리소스를 **프로덕션** 환경에 대한 단일 **프로덕션** 리소스 그룹에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-246">All resources associated with production workloads are deployed into a single **production** resource group for the **production** environment.</span></span> 
2. <span data-ttu-id="ede94-247">각 세 환경과 리소스 그룹을 정렬하려면 명명 규칙 및 태그를 사용하여 별도 리소스 그룹과 워크로드를 정렬합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-247">Align workloads with a separate resource group, using a naming convention and tags to align resource groups with each of the three environments.</span></span>  

<span data-ttu-id="ede94-248">첫 번째 옵션 평가로 시작합시다.</span><span class="sxs-lookup"><span data-stu-id="ede94-248">Let's begin by evaluating the first option.</span></span> <span data-ttu-id="ede94-249">기본 제공 **기여자** 또는 **판독기** 역할을 사용하여 리소스 그룹을 만들고 이 그룹에 사용자를 추가하는 단일 구독 서비스 관리자를 통해 이전 섹션에서 논의한 사용 권한 모델을 사용할 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-249">We'll be using the permissions model that we discussed in the previous section, with a single subscription service administrator that creates resource groups and adds users to them with either the built-in **contributor** or **reader** role.</span></span> 

1. <span data-ttu-id="ede94-250">배포된 첫 번째 리소스 그룹은 **공유 인프라** 환경을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-250">The first resource group deployed represents the **shared infrastructure** environment.</span></span> <span data-ttu-id="ede94-251">**구독 소유자**는 **netops-shared-rg**라는 공유 인프라 리소스에 대한 리소스 그룹을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-251">The **subscription owner** creates a resource group for the shared infrastructure resources named **netops-shared-rg**.</span></span> 
![](../_images/governance-3-0d.png)
2. <span data-ttu-id="ede94-252">**구독 소유자**는 **네트워크 작업 사용자** 계정을 리소스 그룹에 추가하고 **기여자** 역할을 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-252">The **subscription owner** adds the **network operations user** account to the resource group and assigns the **contributor** role.</span></span> 
![](../_images/governance-3-0e.png)
3. <span data-ttu-id="ede94-253">**네트워크 작업 사용자**는 [VPN 게이트웨이](/azure/vpn-gateway/vpn-gateway-about-vpngateways)를 만들고 온-프레미스 VPN 어플라이언스에 연결하도록 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-253">The **network operations user** creates a [VPN gateway](/azure/vpn-gateway/vpn-gateway-about-vpngateways) and configures it to connect to the on-premises VPN appliance.</span></span> <span data-ttu-id="ede94-254">**네트워크 작업** 사용자는 한 쌍의 [태그](/azure/azure-resource-manager/resource-group-using-tags)를 각 리소스, *environment:shared* 및 *managedBy:netOps*에 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-254">The **network operations** user also applies a pair of [tags](/azure/azure-resource-manager/resource-group-using-tags) to each of the resources: *environment:shared* and *managedBy:netOps*.</span></span> <span data-ttu-id="ede94-255">**구독 서비스 관리자**가 비용 보고서를 내보내는 경우 비용은 이러한 태그 각각에 맞춰 정렬됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-255">When the **subscription service administrator** exports a cost report, costs will be aligned with each of these tags.</span></span> <span data-ttu-id="ede94-256">이렇게 하면 **구독 서비스 관리자**가 *환경* 태그 및 *managedBy* 태그를 사용하여 비용을 피벗할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-256">This allows the **subscription service administrator** to pivot costs using the *environment* tag and the *managedBy* tag.</span></span> <span data-ttu-id="ede94-257">**리소스 제한**은 그림의 맨 위 오른쪽에 카운터됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-257">Notice the **resource limits** counter at the top right-hand side of the figure.</span></span> <span data-ttu-id="ede94-258">각 Azure 구독에는 [제한 서비스](/azure/azure-subscription-service-limits)가 있으며, 이러한 제한의 효과를 이해하도록 도우려면 각 구독에 대해 가상 네트워크 제한을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-258">Each Azure subscription has [service limits](/azure/azure-subscription-service-limits), and to help you understand the effect of these limits we'll follow the virtual network limit for each subscription.</span></span> <span data-ttu-id="ede94-259">기본 제한 값은 구독당 50대 가상 네트워크이며 첫 번째 가상 네트워크를 배포한 후 이제 49대를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-259">There is a default limit of 50 virtual networks per subscription, and after the first virtual network is deployed there are now 49 available.</span></span>
![](../_images/governance-3-1.png)
4. <span data-ttu-id="ede94-260">두 개 더 많은 리소스 그룹을 배포하면 첫 번째 그룹은 *prod rg*라고 명명합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-260">Two more resource groups are deployed, the first is named *prod-rg*.</span></span> <span data-ttu-id="ede94-261">이 리소스 그룹은 **프로덕션** 환경에 맞춰 정렬됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-261">This resource group is aligned with the **production** environment.</span></span> <span data-ttu-id="ede94-262">두 번째 그룹은 *dev-rg*라고 명명하며 **개발** 환경에 맞춰 정렬됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-262">The second is named *dev-rg* and is aligned with the **development** environment.</span></span> <span data-ttu-id="ede94-263">프로덕션 작업와 연결된 모든 리소스는 **프로덕션** 환경에 배포되고 개발 워크로드와 연결된 모든 리소스는 **개발** 환경에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-263">All resources associated with production workloads are deployed to the **production** environment and all resources associated with development workloads are deployed to the **development** environment.</span></span> <span data-ttu-id="ede94-264">이 예에서 두 개의 워크로드를 이러한 두 환경 각각에 배포하므로 모든 Azure 구독 서비스 제한이 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-264">In this example we'll only deploy two workloads to each of these two environments so we won't encounter any Azure subscription service limits.</span></span> <span data-ttu-id="ede94-265">그러나이 각 리소스 그룹이 리소스 그룹당 800개 리소스라는 제한이 있음을 고려하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-265">However, it's important to consider that each resource group has a limit of 800 resources per resource group.</span></span> <span data-ttu-id="ede94-266">따라서 각 리소스 그룹에 계속 워크로드를 추가하는 경우 이 제한에 도달될 가능성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-266">Therefore, if we keep adding workloads to each resource group it is possible that this limit will be reached.</span></span> 
![](../_images/governance-3-2.png)
5. <span data-ttu-id="ede94-267">첫 번째 **워크로드 소유자**는 요청을 **구독 서비스 관리자**에게 보내고 **기여자** 역할이 있는 **개발** 및 **프로덕션** 환경 리소스 그룹 각각에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-267">The first **workload owner** sends a request to the **subscription service administrator** and is added to each of the **development** and **production** environment resource groups with the **contributor** role.</span></span> <span data-ttu-id="ede94-268">앞에서 살펴본 것처럼 **기여자** 역할은 다른 사용자에게 역할을 할당하지 않고 사용자가 모든 작업을 수행하게 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-268">As you learned earlier, the **contributor** role allows the user to perform any operation other than assigning a role to another user.</span></span> <span data-ttu-id="ede94-269">첫 번째 **워크로드 소유자**는 이제 해당 워크로드와 연결된 리소스를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-269">The first **workload owner** can now create the resources associated with their workload.</span></span>
![](../_images/governance-3-3.png)
6. <span data-ttu-id="ede94-270">첫 번째 **워크로드 소유자**는 각각에 가상 머신 쌍이 포함된 두 리소스 그룹의 각각에서 가상 네트워크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-270">The first **workload owner** creates a virtual network in each of the two resource groups with a pair of virtual machines in each.</span></span> <span data-ttu-id="ede94-271">첫 번째 **워크로드 소유자**는 *환경* 및 *managedBy* 태그를 모든 리소스에 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-271">The first **workload owner** applies the *environment* and *managedBy* tags to all resources.</span></span> <span data-ttu-id="ede94-272">Azure 서비스 제한 카운터는 이제 남은 가상 네트워크 47대를 나타내고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-272">Note that the Azure service limit counter is now at 47 virtual networks remaining.</span></span>
![](../_images/governance-3-4.png)
7. <span data-ttu-id="ede94-273">각 가상 네트워크는 생성될 때 온-프레미스에 연결되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-273">Each of the virtual networks does not have connectivity to on-premises when they are created.</span></span> <span data-ttu-id="ede94-274">이 유형의 아키텍처에서 각 가상 네트워크는 **공유 인프라** 환경에서 *hub-vnet*에 피어링되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-274">In this type of architecture, each virtual network must be peered to the *hub-vnet* in the **shared infrastructure** environment.</span></span> <span data-ttu-id="ede94-275">가상 네트워크 피어링은 두 개의 별도 가상 네트워크 간에 연결을 만들고 두 네트워크 간에 이동하는 네트워크 트래픽을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-275">Virtual network peering creates a connection between two separate virtual networks and allows network traffic to travel between them.</span></span> <span data-ttu-id="ede94-276">가상 네트워크 피어링은 기본적으로 전이적이지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-276">Note that virtual network peering is not inherently transitive.</span></span> <span data-ttu-id="ede94-277">피어링은 연결된 두 가상 네트워크 각각에 지정돼야 하며, 가상 네트워크 중 하나만 피어링을 지정하는 경우 연결이 불완전하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-277">A peering must be specified in each of the two virtual networks that are connected, and if only one of the virtual networks specifies a peering the connection is incomplete.</span></span> <span data-ttu-id="ede94-278">이 설정의 효과를 설명하려면 첫 번째 **워크로드 소유자**는 **prod-vnet** 및 **hub-vnet** 간에 피어링을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-278">To illustrate the effect of this, the first **workload owner** specifies a peering between **prod-vnet** and **hub-vnet**.</span></span> <span data-ttu-id="ede94-279">첫 번째 피어링이 생성됐지만 **hub-vnet**에서 **prod-vnet**까지 보완 피어링이 아직 지정되지 않았기 때문에 트래픽 흐름이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-279">The first peering is created, but no traffic flows because the complementary peering from **hub-vnet** to **prod-vnet** has not yet been specified.</span></span> <span data-ttu-id="ede94-280">첫 번째 **워크로드 소유자**는 **네트워크 작업** 사용자에게 문의하여 이 보완 피어링 연결을 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-280">The first **workload owner** contacts the **network operations** user and requests this complementary peering connection.</span></span>
![](../_images/governance-3-5.png)
8. <span data-ttu-id="ede94-281">**네트워크 작업** 사용자는 이 요청을 검토하고 승인한 다음, **hub-vnet**에 대한 설정에서 피어링을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-281">The **network operations** user reviews the request, approves it, then specifies the peering in the settings for the **hub-vnet**.</span></span> <span data-ttu-id="ede94-282">피어링 연결이 완료되면 네트워크 트래픽이 두 가상 네트워크 사이를 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-282">The peering connection is now complete and network traffic flows between the two virtual networks.</span></span>
![](../_images/governance-3-6.png)
9. <span data-ttu-id="ede94-283">첫 번째 **워크로드 소유자**는 요청을 **구독 서비스 관리자**에게 보내고 **기여자** 역할이 있는 기존의 **개발** 및 **프로덕션** 환경 리소스 그룹에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-283">Now, a second **workload owner** sends a request to the **subscription service administrator** and is added to the existing **production** and **development** environment resource groups with the **contributor** role.</span></span> <span data-ttu-id="ede94-284">두 번째 **워크로드 소유자**는 각 리소스 그룹의 첫 번째 **워크로드 소유자**와 동일한 권한을 모든 리소스에 대해 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-284">The second **workload owner** has the same permissions on all resources as the first **workload owner** in each resource group.</span></span> 
![](../_images/governance-3-7.png)
10. <span data-ttu-id="ede94-285">두 번째 **워크로드 소유자**는 **prod-vnet** 가상 네트워크에서 서브넷을 만든 다음, 두 대의 가상 머신을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-285">The second **workload owner** creates a subnet in the **prod-vnet** virtual network, then adds two virtual machines.</span></span> <span data-ttu-id="ede94-286">두 번째 **워크로드 소유자**는 *환경* 및 *managedBy* 태그를 각 리소스에 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-286">The second **workload owner** applies the *environment* and *managedBy* tags to each resource.</span></span>
![](../_images/governance-3-8.png) 

<span data-ttu-id="ede94-287">이 예제 리소스 관리 모델은 세 가지 필수 환경에서 리소스를 관리할 수 있게 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-287">This example resource management model enables us to manage our resources in the three required environments.</span></span> <span data-ttu-id="ede94-288">공유 인프라 리소스는 구독에서 해당 리소스에 액세스할 수 있는 권한이 있는 단일 사용자만 있기 때문에 보호됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-288">Our shared infrastructure resources are protected because there's only a single user in the subscription with permission to access those resources.</span></span> <span data-ttu-id="ede94-289">각 워크로드 소유자는 실제 공유 리소스에 대해 아무런 사용 권한이 없이 공유 인프라 리소스를 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-289">Each of our workload owners is able to utilize the share infrastructure resources without having any permissions on the actual shared resources themselves.</span></span> <span data-ttu-id="ede94-290">이 관리 모델은 워크로드 격리에 대한 요구 사항을 충족하지 못합니다 - 두 **워크로드 소유자** 각각은 상대방의 워크로드 리소스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-290">This management model fails our requirement for workload isolation - each of the two **workload owners** are able to access the resources of the other's workload.</span></span> 

<span data-ttu-id="ede94-291">즉시 알 수 없는 이 모델에 대해 다른 중요한 고려 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-291">There's another important consideration with this model that may not be immediately obvious.</span></span> <span data-ttu-id="ede94-292">예제에서 온-프레미스에 연결을 제공하기 위해 **hub-vnet**과 네트워크 피어링 연결을 요청한 것은 **app1 워크로드 소유자**였습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-292">In our example, it was **app1 workload owner** that requested the network peering connection with the **hub-vnet** to provide connectivity to on-premises.</span></span> <span data-ttu-id="ede94-293">**네트워크 작업** 사용자는 해당 워크로드에 배포된 리소스에 기반한 해당 요청을 평가했습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-293">The **network operations** user evaluated that request based on the resources deployed with that workload.</span></span> <span data-ttu-id="ede94-294">**구독 소유자**가 **기여자** 역할이 있는 **app2 워크로드 소유자**를 추가한 경우 **prod-rg** 리소스 그룹에서 모든 리소스에 대한 관리 액세스 권한은 해당 사용자에게 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-294">When the **subscription owner** added **app2 workload owner** with the **contributor** role, that user had management access rights to all resources in the **prod-rg** resource group.</span></span> 

![](../_images/governance-3-10.png)

<span data-ttu-id="ede94-295">즉, **app2 워크로드 소유자**에게는 **prod-vnet** 가상 네트워크에서 가상 머신을 사용하여 자체 서브넷을 배포할 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-295">This means **app2 workload owner** had permission to deploy their own subnet with virtual machines in the **prod-vnet** virtual network.</span></span> <span data-ttu-id="ede94-296">기본적으로 해당 가상 머신은 이제 온-프레미스 네트워크에 대한 액세스 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-296">By default, those virtual machines now have access to the on-premises network.</span></span> <span data-ttu-id="ede94-297">**네트워크 작업** 사용자는 해당 머신을 인식하지 못하고 있으며 온-프레미스에 연결을 승인하지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-297">The **network operations** user is not aware of those machines and did not approve their connectivity to on-premises.</span></span>

<span data-ttu-id="ede94-298">다음으로, 다양한 환경 및 워크로드에 대한 여러 리소스 그룹을 사용하여 단일 구독에 대해 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-298">Next, let's look at a single subscription with multiple resources groups for different environments and workloads.</span></span> <span data-ttu-id="ede94-299">이전 예제에서 각 환경에 대한 리소스는 동일한 리소스 그룹에 있었기 때문에 쉽게 식별할 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-299">Note that in the previous example, the resources for each environment were easily identifiable because they were in the same resource group.</span></span> <span data-ttu-id="ede94-300">더 이상 해당 그룹화가 없으므로 해당 기능을 제공하려면 리소스 그룹 명명 규칙에 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-300">Now that we no longer have that grouping, we will have to rely on a resource group naming convention to provide that functionality.</span></span> 

1. <span data-ttu-id="ede94-301">**공유 인프라** 리소스는 이 모델에서 별도 리소스 그룹이 아직 없으므로 동일하게 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-301">Our **shared infrastructure** resources will still have a separate resource group in this model, so that remains the same.</span></span> <span data-ttu-id="ede94-302">각 워크로드는 **개발** 및 **프로덕션** 환경 각각에 대해 하나씩, 두 리소스 그룹이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-302">Each workload requires two resource groups - one for each of the **development** and **production** environments.</span></span> <span data-ttu-id="ede94-303">첫 번째 워크로드의 경우 **구독 소유자**는 두 리소스 그룹을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-303">For the first workload, the **subscription owner** creates two resource groups.</span></span> <span data-ttu-id="ede94-304">첫 번째는 **app1-prod-rg**라고 명명하고 두 번째는 **app1-dev-rg**로 명명합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-304">The first is named **app1-prod-rg** and the second one is named **app1-dev-rg**.</span></span> <span data-ttu-id="ede94-305">앞에서 설명한 대로 이 명명 규칙은 리소스를 첫 번째 워크로드 **app1** 및 **dev** 또는 **prod** 환경 중 하나와 연결된 것으로 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-305">As discussed earlier, this naming convention identifies the resources as being associated with the first workload, **app1**, and either the **dev** or **prod** environment.</span></span> <span data-ttu-id="ede94-306">다시, *구독* 소유자는 **app1 워크로드 소유자**를 **기여자** 역할이 있는 리소스 그룹에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-306">Again, the *subscription* owner adds **app1 workload owner** to the resource group with the **contributor** role.</span></span>
![](../_images/governance-3-12.png)
2. <span data-ttu-id="ede94-307">첫 번째 예제와 비슷하게 **app1 워크로드 소유자**는 **app1-prod-vnet**이라는 가상 네트워크를 **프로덕션** 환경에 배포하고 **app1-dev-vnet**이라는 다른 가상 네트워크는 **개발** 환경에 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-307">Similar to the first example, **app1 workload owner** deploys a virtual network named **app1-prod-vnet** to the **production** environment, and another named **app1-dev-vnet** to the **development** environment.</span></span> <span data-ttu-id="ede94-308">다시, **app1 워크로드 소유자**는 피어링 연결을 만들려면 **네트워크 작업**에 요청을 전송합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-308">Again, **app1 workload owner** sends a request to the **network operations** user to create a peering connection.</span></span> <span data-ttu-id="ede94-309">**app1 워크로드 소유자**가 첫 번째 예제에서와 동일한 태그를 추가하고 제한 카운터는 구독에 남아 있는 47대 가상 네트워크로 감소됐습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-309">Note that **app1 workload owner** adds the same tags as in the first example, and the limit counter has been decremented to 47 virtual networks remaining in the subscription.</span></span>
![](../_images/governance-3-13.png)
3. <span data-ttu-id="ede94-310">**구독 소유자**는 이제 **app2 워크로드 소유자**에 대해 두 리소스 그룹을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-310">The **subscription owner** now creates two resource groups for **app2 workload owner**.</span></span> <span data-ttu-id="ede94-311">**app1 워크로드 소유자**에 대해 동일한 규칙을 따르는 리소스 그룹은 **app2-prod-rg** 및 **app2-dev-rg**로 명명됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-311">Following the same conventions as for **app1 workload owner**, the resource groups are named **app2-prod-rg** and **app2-dev-rg**.</span></span> <span data-ttu-id="ede94-312">**구독** 소유자는 **app2 워크로드 소유자**를 **기여자** 역할이 있는 리소스 그룹 각각에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-312">The **subscription owner** adds **app2 workload owner** to each of the resource groups with the **contributor** role.</span></span>
![](../_images/governance-3-14.png)
4. <span data-ttu-id="ede94-313">*App2 워크로드 소유자*는 동일한 명명 규칙을 사용하여 리소스 그룹에 가상 네트워크와 가상 머신을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-313">*App2 workload owner* deploys virtual networks and virtual machines to the resource groups with the same naming conventions.</span></span> <span data-ttu-id="ede94-314">태그가 추가되고 제한 카운터는 *구독*에 남아 있는 45대 가상 네트워크로 감소됐습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-314">Tags are added and the limit counter has been decremented to 45 virtual networks remaining in the *subscription*.</span></span>
![](../_images/governance-3-15.png)
5. <span data-ttu-id="ede94-315">*App2 워크로드 소유자*는 *네트워크 작업* 사용자에게 요청을 전송하여 *hub-vnet*으로 *app2-prod-vnet*을 피어링합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-315">*App2 workload owner* sends a request to the *network operations* user to peer the *app2-prod-vnet* with the *hub-vnet*.</span></span> <span data-ttu-id="ede94-316">*네트워크 작업* 사용자는 피어링 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-316">The *network operations* user creates the peering connection.</span></span>
![](../_images/governance-3-16.png)

<span data-ttu-id="ede94-317">결과 관리 모델은 첫 번째 예제와 유사하며 다음과 같은 몇 가지 주요 차이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-317">The resulting management model is similar to the first example, with several key differences:</span></span>
* <span data-ttu-id="ede94-318">두 워크로드 각각은 워크로드 및 환경에 의해 격리됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-318">Each of the two workloads is isolated by workload and by environment.</span></span>
* <span data-ttu-id="ede94-319">이 모델에는 첫 번째 예제 모델보다 두 개 더 많은 가상 네트워크가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-319">This model required two more virtual networks than the first example model.</span></span> <span data-ttu-id="ede94-320">두 워크로드만으로 중요한 차이가 아닐 수 있지만 이 모델에 대한 워크로드 수의 제한은 이론적으로 24입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-320">While this is not an important distinction with only two workloads, the theoretical limit on the number of workloads for this model is 24.</span></span> 
* <span data-ttu-id="ede94-321">리소스는 각 환경에 대한 단일 리소스 그룹에서 더 이상 그룹화되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-321">Resources are no longer grouped in a single resource group for each environment.</span></span> <span data-ttu-id="ede94-322">리소스 그룹화에는 각 환경에 사용된 명명 규칙에 대한 이해가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-322">Grouping resources requires an understanding of the naming conventions used for each environment.</span></span> 
* <span data-ttu-id="ede94-323">피어링된 가상 네트워크 연결 각각은 *네트워크 작업* 사용자에 의해 검토 및 승인됐습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-323">Each of the peered virtual network connections was reviewed and approved by the *network operations* user.</span></span>

<span data-ttu-id="ede94-324">여러 구독을 사용하여 리소스 관리 모델을 살펴봅시다.</span><span class="sxs-lookup"><span data-stu-id="ede94-324">Now let's look at a resource management model using multiple subscriptions.</span></span> <span data-ttu-id="ede94-325">이 모델에서는 **공유 서비스** 구독, **프로덕션** 구독 및 마지막으로 **개발** 구독의 세 가지 환경 각각을 별도 구독에 맞춰 정렬하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-325">In this model, we'll align each of the three environments to a separate subscription: a **shared services** subscription, **production** subscription, and finally a **development** subscription.</span></span> <span data-ttu-id="ede94-326">이 모델에 대한 고려 사항은 워크로드에 맞춰 리소스 그룹을 정렬하는 방법을 결정해야 하는 단일 구독을 사용한 모델과 유사합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-326">The considerations for this model are similar to a model using a single subscription in that we have to decide how to align resource groups to workloads.</span></span> <span data-ttu-id="ede94-327">각 워크로드에 대한 리소스 그룹의 생성은 워크로드 격리 요구 사항을 충족하는 것으로 이미 결정했으므로 이 예제에서는 해당 모델을 계속 사용하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-327">We've already determined that creating a resource group for each workload satisfies our workload isolation requirement, so we'll stick with that model in this example.</span></span>

1. <span data-ttu-id="ede94-328">이 모델에는 *공유 인프라*, *프로덕션* 및 *개발*의 세 가지 *구독*이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-328">In this model, there are three *subscriptions*: *shared infrastructure*, *production*, and *development*.</span></span> <span data-ttu-id="ede94-329">이러한 세 가지 구독 각각은 *구독 소유자*를 필요로 하며, 간단한 예제에서는 세 가지 모두에 대해 동일한 사용자 계정을 사용하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-329">Each of these three subscriptions requires a *subscription owner*, and in our simple example we'll use the same user account for all three.</span></span> <span data-ttu-id="ede94-330">*공유 인프라* 리소스는 위의 첫 두 가지 예제와 마찬가지로 관리됩니다. 첫 번째 워크로드는 *프로덕션* 환경에서 *app1-rg*, *개발* 환경에서 동일한 이름의 리소스 그룹과 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-330">The *shared infrastructure* resources are managed similarly to the first two examples above, and the first workload is associated with the *app1-rg* in the *production* environment and the same-named resource group in the *development* environment.</span></span> <span data-ttu-id="ede94-331">*app1 워크로드 소유자*는 *기여자* 역할이 포함된 리소스 그룹 각각에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-331">The *app1 workload owner* is added to each of the resource group with the *contributor* role.</span></span> 
![](../_images/governance-3-17.png)
2. <span data-ttu-id="ede94-332">이전 예제에서와 마찬가지로 *app1 워크로드 소유자*는 요청을 만들고 *공유 인프라* 가상 네트워크와 피어링 연결을 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-332">As with the earlier examples, *app1 workload owner* creates the resources and requests the peering connection with the *shared infrastructure* virtual network.</span></span> <span data-ttu-id="ede94-333">*App1 워크로드 소유자*는 *환경* 태그가 더 이상 필요하지 않기 때문에 *managedBy* 태그만 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-333">*App1 workload owner* adds only the *managedBy* tag because there is no longer a need for the *environment* tag.</span></span> <span data-ttu-id="ede94-334">즉, 리소스는 각 환경에 대해 동일한 *구독*에서 그룹화되어 있으며 *환경* 태그는 중복됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-334">That is, resources are for each environment are now grouped in the same *subscription* and the *environment* tag is redundant.</span></span> <span data-ttu-id="ede94-335">제한 카운터는 남은 가상 네트워크 49대로 감소됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-335">The limit counter is decremented to 49 virtual networks remaining.</span></span>
![](../_images/governance-3-18.png)
3. <span data-ttu-id="ede94-336">마지막으로 *구독 소유자*는 두 번째 워크로드에 대해 프로세스를 반복하면서 \*기여자 역할에서 *app2 워크로드 소유자*를 사용하여 리소스 그룹을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-336">Finally, the *subscription owner* repeats the process for the second workload, adding the resource groups with the *app2 workload owner* in the \*contributor role.</span></span> <span data-ttu-id="ede94-337">각 환경 구독에 대한 제한 카운터는 남은 가상 네트워크 48대로 감소됩니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-337">The limit counter for each of the environment subscriptions is decremented to 48 virtual networks remaining.</span></span> 

<span data-ttu-id="ede94-338">이 관리 모델에는 위의 두 번째 예제의 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-338">This management model has the benefits of the second example above.</span></span> <span data-ttu-id="ede94-339">그러나 중요한 차이점은 두 개의 *구독*으로 분산되어 있다는 사실 때문에 제한이 사소한 문제라는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-339">However, the key difference is that limits are less of an issue due to the fact that they are spread over two *subscriptions*.</span></span> <span data-ttu-id="ede94-340">단점은 태그에서 추적한 비용 데이터가 세 가지 *구독* 모두에서 집계되어야 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-340">The drawback is that the cost data tracked by tags must be aggregated across all three *subscriptions*.</span></span> 

<span data-ttu-id="ede94-341">따라서 요구 사항 우선 순위에 따라 이러한 두 가지 예제 리소스 관리 모델 중에서 하나를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-341">Therefore, you can select any of these two examples resource management models depending on the priority of your requirements.</span></span> <span data-ttu-id="ede94-342">조직이 단일 구독에 대한 서비스 제한에 도달하지 않을 것으로 예상하는 경우 여러 리소스 그룹이 포함된 단일 구독을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-342">If you anticipate that your organization will not reach the service limits for a single subscription, you can use a single subscription with multiple resource groups.</span></span> <span data-ttu-id="ede94-343">반대로, 조직이 많은 워크로드를 예상하는 경우 각 환경에 대해 여러 구독이 더 좋을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ede94-343">Conversely, if your organization anticipates many workloads, multiple subscriptions for each environment may be better.</span></span>

<!-- ## Summary



## Next steps -->


<!-- links -->

[rbac-built-in-owner]: /azure/role-based-access-control/built-in-roles#owner
[rbac-built-in-roles]: /azure/role-based-access-control/built-in-roles
